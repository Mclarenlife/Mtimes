# Mtimes - iOS时间打卡应用

## 项目简介
Mtimes是一个简洁优雅的iOS时间打卡应用，帮助用户记录和管理每日的打卡时间。应用采用最新的iOS设计规范，提供直观的用户界面和流畅的用户体验。

## 功能特性

### 🕐 打卡功能
- **实时计时**: 点击开始按钮开始计时，显示时:分:秒格式
- **圆形进度条**: 60分钟为一圈的圆形进度条，直观显示打卡进度
- **后台计时**: 退出应用或切换到后台不会影响计时
- **状态提示**: 显示当日打卡状态和时长

### 📊 统计功能
- **总览数据**: 显示总打卡次数和总打卡时长
- **日历视图**: 月历显示，支持月份切换
- **进度指示**: 日历中打卡日期显示4小时为一圈的进度条
- **记录列表**: 详细的打卡记录列表，支持编辑和删除

### ✏️ 编辑功能
- **时间编辑**: 可编辑打卡的开始时间和结束时间
- **日期修改**: 支持修改打卡日期
- **手动添加**: 可手动添加历史打卡记录
- **数据验证**: 智能验证时间设置的合理性

## 技术架构

### 数据层
- **TimeRecord**: 打卡记录数据模型
- **TimeRecordManager**: 数据管理和持久化

### 视图层
- **MainViewController**: 主视图控制器，管理视图切换
- **HomeViewController**: 首页打卡视图
- **StatisticsViewController**: 统计视图
- **CalendarView**: 自定义日历组件
- **EditRecordViewController**: 编辑记录视图
- **DayDetailViewController**: 日期详情视图

### 设计特点
- **现代化UI**: 采用iOS 15+设计语言
- **响应式布局**: 支持不同屏幕尺寸
- **流畅动画**: 平滑的过渡和交互效果
- **深色模式**: 支持系统深色模式

## 系统要求
- iOS 13.0+
- Xcode 12.0+
- Swift 5.0+
## 安装说明
1. 克隆项目到本地
2. 使用Xcode打开项目
3. 选择目标设备或模拟器
4. 点击运行按钮

## 使用说明

### 开始打卡
1. 在首页点击圆形"开始"按钮
2. 按钮变为计时器，显示实时时间
3. 圆形边缘显示进度条
4. 再次点击停止计时并保存记录

### 查看统计
1. 点击底部导航栏的"统计"按钮
2. 查看总打卡次数和时长
3. 浏览日历视图，查看打卡历史
4. 点击日历日期查看详细记录

### 编辑记录
1. 在统计页面点击任意记录
2. 修改开始时间、结束时间或日期
3. 点击保存按钮确认修改

### 数据管理功能
- 📤 **导出数据**：将打卡记录导出为JSON文件
- 📥 **导入数据**：从JSON文件导入打卡记录，覆盖现有数据
- 🗑️ **清空数据**：删除所有打卡记录，重置应用状态

## 数据管理功能使用说明

### 导出数据
1. 进入"设置"页面
2. 点击"📤 导出数据"按钮
3. 系统会生成包含所有打卡记录的JSON文件
4. 文件名格式：`打卡数据_yyyyMMdd_HHmmss.json`
5. 选择保存位置（如：文件、邮件、AirDrop等）

### 导入数据
1. 进入"设置"页面
2. 点击"📥 导入数据"按钮
3. 选择要导入的JSON文件
4. 确认导入（会覆盖现有数据）
5. 导入成功后，所有视图将自动更新

### 清空数据
1. 进入"设置"页面
2. 点击"🗑️ 清空全部数据"按钮
3. 确认清空操作（此操作不可恢复）
4. 所有打卡记录将被删除，应用状态重置

### 数据格式
导出的JSON文件包含以下信息：
- 版本号
- 导出时间
- 所有打卡记录（包含开始时间、结束时间、时长等）

### 注意事项
- 导入数据会完全覆盖现有的打卡记录
- 清空数据操作不可恢复，请谨慎操作
- 请确保导入的文件格式正确
- 建议在重要操作前先导出当前数据作为备份

## 项目结构
```
Mtimes/
├── Models/
│   ├── TimeRecord.swift
│   └── TimeRecordManager.swift
├── ViewControllers/
│   ├── MainViewController.swift
│   ├── HomeViewController.swift
│   ├── StatisticsViewController.swift
│   ├── EditRecordViewController.swift
│   └── DayDetailViewController.swift
├── Views/
│   ├── CalendarView.swift
│   ├── TimeRecordCell.swift
│   └── CircularTimerButton.swift
└── Supporting Files/
    ├── AppDelegate.swift
    ├── SceneDelegate.swift
    └── Info.plist
```

## 开发说明
- 使用SwiftUI和UIKit混合开发
- 采用MVVM架构模式
- 数据持久化使用UserDefaults
- 支持后台计时和状态恢复

## 许可证
本项目仅供学习和参考使用。

